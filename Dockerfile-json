#
# Copyright (c) 2019, Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.
#

ARG sdk_vsn=1.0.0

FROM digitalasset/daml-sdk:${sdk_vsn}

WORKDIR /home/daml

USER daml

EXPOSE 7575

# sleep 5 to wait for sandbox, to avoid abort
ENTRYPOINT sleep 5 && ~/.daml/bin/daml json-api --ledger-host ${SANDBOX_HOST} --ledger-port ${SANDBOX_PORT} --http-port 7575
